{{template "header"}}
    	<title>分类 - 我的 beego 博客</title>
  	</head>	
	<body>
		<div class="navbar navbar-default navbar-fixed-top">		
			<div class="container">
				{{template "navbar" .}}
			</div>
		</div>
		
		<div class="container"> 
			<h1>归档分类</h1>
			<form class="from-inline" method="GET" action="/category">
				<div class="form-group">
				    <label>分类名称</label>
				    <input id="name" type="text" class="form-control" name="name" placeholder="Enter category name">
					<input type="hidden" name="op" value="add">
				</div>
				<button type="submit" class="btn btn-default" onclick="return checkInput();">添加</button>
			</form>
			
			<script type="text/javascript">
				function checkInput(){
					var uname = document.getElementById("name");
					if (uname.value.length == 0){
						alert("请输入名称");
						return false;
					}
					return true;
				}
			</script>
			
			<table class="table table-hover">
				<thead>
					<tr>
						<th>id</th>
						<th>名称</th>
						<th>文章数</th>
						<th>操作</th>
					</tr>
				</thead>
				<tbody>
					{{range .Categories}}
					<tr>
						<th>{{.Id}}</th>
						<th>{{.Title}}</th>
						<th>{{.TopicCount}}</th>
						<th>
							<a href="/category?op=del&id={{.Id}}">删除</a>
						</th>
					</tr>
					{{end}}
				</tbody>
			</table>
		
		</div>
	</body>
</html>